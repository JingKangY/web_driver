{"name": "test_login", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "self = <test_login.TestLogin object at 0x7fc1c075a850>\nget_quit_driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"af51bc17ecd47abb7959929d7ca73447\")>\ndel_image_png = None\n\n    @allure.story('测试')  # story：allure报告的三级目录\n    # 缺陷等级 blocker：中断缺陷 critical:临界缺陷 normal：普通缺陷 minor：次要缺陷 trivial：轻微的缺陷\n    @allure.severity(allure.severity_level.NORMAL)\n    # @pytest.mark.usefixtures('connect_db')  # 另一种调用方式 级别为class\n    #  用例描述2, 接口路径5, 请求方法6, 请求类型7, 参数9,步骤11， 预期结果code12,预期结果msg13,预期结果message14,\n    def test_login(self, get_quit_driver,del_image_png):\n        # title, desc, url, method, request_type, args, request_head, step, expect_code, expect_mes, expect_total_count = case_info\n    \n        base = Base(get_quit_driver)\n        base.base_input(sousuoshurukuang, \"三国志战略版\")\n        base.base_send_keys(sousuoshurukuang, 'a')\n        sleep(2)\n        base.base_send_keys(sousuoshurukuang, 'c')\n        base.base_delete(sousuoshurukuang)\n        base.base_send_keys(sousuoshurukuang, 'v')\n        sleep(2)\n        base.base_click(dianjisoiusuo)\n    \n        WebUIAssert.asserts_url(\n            \"https://sgzzlb.lingxigames.com/news/search/?keyword=%E4%B8%89%E5%9B%BD%E5%BF%97%E6%88%98%E7%95%A5%E7%89%88\",\n            base.base_get_current_url())\n        base.base_move_to_element(wx_icon)\n        print(base.base_get_element_text(wx_gzh))\n>       WebUIAssert.assert_text(get_quit_driver, \"微信公众\", base.base_get_element_text(wx_gzh))\n\n../testcase/test_login.py:57: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../common/asserts.py:48: in assert_text\n    raise e\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <common.asserts.WebUIAssert object at 0x7fc1c075a4c0>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"af51bc17ecd47abb7959929d7ca73447\")>\nexpect_code = '微信公众', actual_code = '微信公众号'\n\n    @allure.step(\"step：响应状态码结果断言\")\n    def assert_text(self, driver,expect_code, actual_code):\n        try:\n            log.debug(f'URL实际结果为：{actual_code}')\n            log.debug(f'URL预期结果为：{expect_code}')\n>           assert str(actual_code) == str(expect_code)  # 成立返回TURE，失败返回FALSE\nE           AssertionError\n\n../common/asserts.py:38: AssertionError"}, "steps": [{"name": "输入相关参数", "status": "passed", "parameters": [{"name": "loc", "value": "('class name', 'keywords')"}, {"name": "value", "value": "'三国志战略版'"}], "start": 1681725953552, "stop": 1681725957696}, {"name": "组合键keys值输入", "status": "passed", "parameters": [{"name": "loc", "value": "('class name', 'keywords')"}, {"name": "key", "value": "'a'"}], "start": 1681725957696, "stop": 1681725958703}, {"name": "组合键keys值输入", "status": "passed", "parameters": [{"name": "loc", "value": "('class name', 'keywords')"}, {"name": "key", "value": "'c'"}], "start": 1681725960705, "stop": 1681725960710}, {"name": "删除输入框内容", "status": "passed", "parameters": [{"name": "loc", "value": "('class name', 'keywords')"}], "start": 1681725960710, "stop": 1681725960732}, {"name": "组合键keys值输入", "status": "passed", "parameters": [{"name": "loc", "value": "('class name', 'keywords')"}, {"name": "key", "value": "'v'"}], "start": 1681725960732, "stop": 1681725960749}, {"name": "点击", "status": "passed", "parameters": [{"name": "loc", "value": "('xpath', \"//a[contains(text(),'点击搜索')]\")"}], "start": 1681725962756, "stop": 1681725964324}, {"name": "获取当前页面的URL", "status": "passed", "start": 1681725964324, "stop": 1681725964343}, {"name": "step：断言页面URL是否一致", "status": "passed", "parameters": [{"name": "expect", "value": "'https://sgzzlb.lingxigames.com/news/search/?keyword=%E4%B8%89%E5%9B%BD%E5%BF%97%E6%88%98%E7%95%A5%E7%89%88'"}, {"name": "res_actual", "value": "'https://sgzzlb.lingxigames.com/news/search/?keyword=%E4%B8%89%E5%9B%BD%E5%BF%97%E6%88%98%E7%95%A5%E7%89%88'"}], "start": 1681725964343, "stop": 1681725964343}, {"name": "悬停指定元素位置", "status": "passed", "parameters": [{"name": "loc", "value": "('class name', 'icon-wx')"}], "start": 1681725964344, "stop": 1681725965168}, {"name": "step：响应状态码结果断言", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"/Users/yangjingkang/python3.9/lib/python3.9/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/Users/yangjingkang/PycharmProjects/web_driver/common/asserts.py\", line 48, in assert_text\n    raise e\n  File \"/Users/yangjingkang/PycharmProjects/web_driver/common/asserts.py\", line 38, in assert_text\n    assert str(actual_code) == str(expect_code)  # 成立返回TURE，失败返回FALSE\n"}, "attachments": [{"name": "错误截图", "source": "884431f7-3616-4bce-9874-6dc956e3d0c3-attachment.png", "type": "image/png"}], "parameters": [{"name": "driver", "value": "<selenium.webdriver.chrome.webdriver.WebDriver (session=\"af51bc17ecd47abb7959929d7ca73447\")>"}, {"name": "expect_code", "value": "'微信公众'"}, {"name": "actual_code", "value": "'微信公众号'"}], "start": 1681725965238, "stop": 1681725966259}], "attachments": [{"name": "log", "source": "e597cba9-99e5-4c32-9c8c-90ce638e3f6e-attachment.txt", "type": "text/plain"}], "start": 1681725953551, "stop": 1681725966261, "uuid": "89d41fb7-9b32-4847-8008-7397fa1a8b7f", "historyId": "c95a03351e5dd3a8b91d1dc15926164c", "testCaseId": "c54ba4c514553f220eeed2f7e798b554", "fullName": "testcase.test_login.TestLogin#test_login", "labels": [{"name": "epic", "value": "测试"}, {"name": "severity", "value": "normal"}, {"name": "story", "value": "测试"}, {"name": "feature", "value": "测试"}, {"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_login"}, {"name": "subSuite", "value": "TestLogin"}, {"name": "host", "value": "B-22GNQ05P-1821.local"}, {"name": "thread", "value": "37173-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_login"}], "links": [{"type": "issue", "url": "https://aone.alibaba-inc.com/v2/project/1073158/bug#viewIdentifier=5dfb195e2e2b84f6b2f24718", "name": "https://aone.alibaba-inc.com/v2/project/1073158/bug#viewIdentifier=5dfb195e2e2b84f6b2f24718"}]}